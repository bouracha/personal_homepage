# Basic directory indexing - serve index.html when accessing directories
DirectoryIndex index.html index.htm

# Enable URL rewriting for clean URLs
RewriteEngine On

# Redirect old CV.pdf direct access to homepage
RewriteRule ^documents/CV\.pdf$ /~bouracha/ [R=301,L]

# Don't rewrite PHP files - let them execute normally
RewriteCond %{REQUEST_URI} !\.php$

# Remove .html extension from URLs (only for non-PHP files)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !\.php$
RewriteRule ^([^.]+)$ $1.html [NC,L]

# Redirect .html URLs to clean URLs (but not PHP files)
RewriteCond %{THE_REQUEST} /([^.]+)\.html [NC]
RewriteCond %{REQUEST_URI} !\.php$
RewriteRule ^ /%1? [NC,L,R=301]

# Basic error handling
ErrorDocument 404 /~bouracha/index.html